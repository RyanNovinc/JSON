const glossary = {
  "metadata": {
    "version": "1.2", 
    "total_exercises": 390,
    "last_updated": "2026-01-29",
    "changes": "Added beginner modifications, female-focused exercises, and popular alternatives"
  },
  "exercises": [
      "Barbell Bench Press",
      "Incline Barbell Bench Press",
      "Decline Barbell Bench Press",
      "Close Grip Bench Press",
      "Dumbbell Bench Press",
      "Incline Dumbbell Press",
      "Decline Dumbbell Press",
      "Dumbbell Fly",
      "Incline Dumbbell Fly",
      "Decline Dumbbell Fly",
      "Cable Fly",
      "Low Cable Fly",
      "High Cable Fly",
      "Machine Chest Press",
      "Incline Machine Press",
      "Pec Deck",
      "Push Up",
      "Push Ups",
      "Incline Push Up",
      "Incline Push Ups",
      "Decline Push Up",
      "Decline Push Ups",
      "Diamond Push Up",
      "Diamond Push Ups",
      "Dip",
      "Dips",
      "Chest Dip",
      "Chest Dips",
      "Smith Machine Bench Press",
      "Smith Machine Incline Press",
      "Svend Press",
      "Landmine Press",
      "Pull Up",
      "Pull Ups",
      "Chin Up",
      "Chin Ups",
      "Neutral Grip Pull Up",
      "Neutral Grip Pull Ups",
      "Wide Grip Pull Up",
      "Wide Grip Pull Ups",
      "Assisted Pull Up",
      "Assisted Pull Ups",
      "Lat Pulldown",
      "Wide Grip Lat Pulldown",
      "Close Grip Lat Pulldown",
      "Neutral Grip Lat Pulldown",
      "Reverse Grip Lat Pulldown",
      "Straight Arm Pulldown",
      "Barbell Row",
      "Pendlay Row",
      "Underhand Barbell Row",
      "Dumbbell Row",
      "Dumbbell Row (Two Arm)",
      "Chest Supported Row",
      "Seal Row",
      "T-Bar Row",
      "Cable Row",
      "Wide Grip Cable Row",
      "Single Arm Cable Row",
      "Machine Row",
      "Meadows Row",
      "Inverted Row",
      "Smith Machine Row",
      "Kroc Row",
      "Deadlift",
      "Conventional Deadlift",
      "Sumo Deadlift",
      "Romanian Deadlift",
      "Dumbbell Romanian Deadlift",
      "Single Leg Romanian Deadlift",
      "Stiff Leg Deadlift",
      "Deficit Deadlift",
      "Trap Bar Deadlift",
      "Rack Pull",
      "Block Pull",
      "Good Morning",
      "Hyperextension",
      "Reverse Hyperextension",
      "Back Extension",
      "Barbell Shrug",
      "Dumbbell Shrug",
      "Trap Bar Shrug",
      "Cable Shrug",
      "Face Pull",
      "Overhead Press",
      "Military Press",
      "Push Press",
      "Seated Barbell Press",
      "Behind Neck Press",
      "Dumbbell Shoulder Press",
      "Seated Dumbbell Press",
      "Arnold Press",
      "Machine Shoulder Press",
      "Smith Machine Shoulder Press",
      "Lateral Raise",
      "Lateral Raises",
      "Cable Lateral Raise",
      "Cable Lateral Raises",
      "Machine Lateral Raise",
      "Machine Lateral Raises",
      "Leaning Lateral Raise",
      "Leaning Lateral Raises",
      "Front Raise",
      "Barbell Front Raise",
      "Cable Front Raise",
      "Plate Front Raise",
      "Rear Delt Fly",
      "Cable Rear Delt Fly",
      "Machine Rear Delt Fly",
      "Incline Rear Delt Fly",
      "Upright Row",
      "Dumbbell Upright Row",
      "Cable Upright Row",
      "Lu Raise",
      "Bus Driver",
      "Barbell Curl",
      "Barbell Curls",
      "EZ Bar Curl",
      "EZ Bar Curls",
      "Dumbbell Curl",
      "Dumbbell Curls",
      "Alternating Dumbbell Curl",
      "Alternating Dumbbell Curls",
      "Incline Dumbbell Curl",
      "Incline Dumbbell Curls",
      "Concentration Curl",
      "Concentration Curls",
      "Preacher Curl",
      "Preacher Curls",
      "Dumbbell Preacher Curl",
      "Dumbbell Preacher Curls",
      "Machine Preacher Curl",
      "Cable Curl",
      "High Cable Curl",
      "Bayesian Cable Curl",
      "Hammer Curl",
      "Hammer Curls",
      "Rope Hammer Curl",
      "Rope Hammer Curls",
      "Cross Body Hammer Curl",
      "Cross Body Hammer Curls",
      "Reverse Curl",
      "EZ Bar Reverse Curl",
      "Zottman Curl",
      "Spider Curl",
      "Drag Curl",
      "21s",
      "Tricep Pushdown",
      "Tricep Pushdowns",
      "Rope Pushdown",
      "Rope Pushdowns",
      "Straight Bar Pushdown",
      "Straight Bar Pushdowns",
      "V-Bar Pushdown",
      "V-Bar Pushdowns",
      "Reverse Grip Pushdown",
      "Reverse Grip Pushdowns",
      "Overhead Tricep Extension",
      "Overhead Tricep Extensions",
      "Overhead Cable Extension",
      "Overhead Cable Extensions",
      "Skull Crusher",
      "Skull Crushers",
      "Dumbbell Skull Crusher",
      "Dumbbell Skull Crushers",
      "Incline Skull Crusher",
      "Incline Skull Crushers",
      "Tricep Kickback",
      "Tricep Kickbacks",
      "Cable Tricep Kickback",
      "Cable Tricep Kickbacks",
      "Tricep Dip",
      "Tricep Dips",
      "Bench Dip",
      "Bench Dips",
      "Close Grip Push Up",
      "JM Press",
      "French Press",
      "Tate Press",
      "Machine Tricep Extension",
      "Machine Dip",
      "Barbell Back Squat",
      "High Bar Squat",
      "Low Bar Squat",
      "Front Squat",
      "Goblet Squat",
      "Dumbbell Squat",
      "Hack Squat",
      "Leg Press",
      "Leg Press (High Foot)",
      "Leg Press (Low Foot)",
      "Single Leg Press",
      "Smith Machine Squat",
      "Pendulum Squat",
      "Belt Squat",
      "Box Squat",
      "Pause Squat",
      "Zercher Squat",
      "Sissy Squat",
      "Leg Extension",
      "Single Leg Extension",
      "Lunge",
      "Dumbbell Lunge",
      "Barbell Lunge",
      "Walking Lunge",
      "Dumbbell Walking Lunge",
      "Reverse Lunge",
      "Dumbbell Reverse Lunge",
      "Deficit Reverse Lunge",
      "Bulgarian Split Squat",
      "Dumbbell Bulgarian Split Squat",
      "Barbell Bulgarian Split Squat",
      "Step Up",
      "Dumbbell Step Up",
      "Barbell Step Up",
      "Lateral Lunge",
      "Curtsy Lunge",
      "Leg Curl",
      "Leg Curls",
      "Lying Leg Curl",
      "Lying Leg Curls",
      "Seated Leg Curl",
      "Seated Leg Curls",
      "Single Leg Curl",
      "Single Leg Curls",
      "Nordic Curl",
      "Glute Ham Raise",
      "Dumbbell Leg Curl",
      "Cable Leg Curl",
      "Slider Leg Curl",
      "Swiss Ball Leg Curl",
      "Hip Thrust",
      "Dumbbell Hip Thrust",
      "Single Leg Hip Thrust",
      "Machine Hip Thrust",
      "Glute Bridge",
      "Barbell Glute Bridge",
      "Single Leg Glute Bridge",
      "Cable Pull Through",
      "Kettlebell Swing",
      "Cable Glute Kickback",
      "Machine Kickback",
      "Donkey Kick",
      "Fire Hydrant",
      "Hip Abduction Machine",
      "Hip Adduction Machine",
      "Cable Hip Abduction",
      "Cable Hip Adduction",
      "Clamshell",
      "Frog Pump",
      "Standing Calf Raise",
      "Standing Calf Raises",
      "Seated Calf Raise",
      "Seated Calf Raises",
      "Leg Press Calf Raise",
      "Leg Press Calf Raises",
      "Smith Machine Calf Raise",
      "Smith Machine Calf Raises",
      "Dumbbell Calf Raise",
      "Dumbbell Calf Raises",
      "Single Leg Calf Raise",
      "Single Leg Calf Raises",
      "Donkey Calf Raise",
      "Donkey Calf Raises",
      "Tibialis Raise",
      "Crunch",
      "Cable Crunch",
      "Machine Crunch",
      "Decline Crunch",
      "Reverse Crunch",
      "Sit Up",
      "Sit Ups",
      "Decline Sit Up",
      "Decline Sit Ups",
      "Weighted Sit Up",
      "Weighted Sit Ups",
      "Hanging Leg Raise",
      "Hanging Knee Raise",
      "Captain's Chair Leg Raise",
      "Lying Leg Raise",
      "Plank",
      "Side Plank",
      "RKC Plank",
      "Ab Rollout",
      "Barbell Rollout",
      "Russian Twist",
      "Weighted Russian Twist",
      "Cable Woodchop",
      "High to Low Woodchop",
      "Low to High Woodchop",
      "Pallof Press",
      "Dead Bug",
      "Bird Dog",
      "Mountain Climber",
      "Bicycle Crunch",
      "V-Up",
      "Toe Touch",
      "Hollow Hold",
      "L-Sit",
      "Dragon Flag",
      "Suitcase Carry",
      "Farmer's Walk",
      "Wrist Curl",
      "Dumbbell Wrist Curl",
      "Reverse Wrist Curl",
      "Behind Back Wrist Curl",
      "Plate Pinch",
      "Gripper",
      "Dead Hang",
      "Bench Press (Pause)",
      "Spoto Press",
      "Floor Press",
      "Dumbbell Floor Press",
      "Board Press",
      "Pin Press",
      "Larsen Press",
      "Tempo Bench Press",
      "Paused Squat",
      "Tempo Squat",
      "1.5 Rep Squat",
      "Anderson Squat",
      "Safety Bar Squat",
      "Paused Deadlift",
      "Tempo Deadlift",
      "Snatch Grip Deadlift",
      "Jefferson Deadlift",
      "Reeves Deadlift",
      "Cable Face Pull",
      "Romanian Dumbbell Deadlift",
      "Seated Dumbbell Shoulder Press",
      "Dumbbell Bicep Curl",
      "Tricep Rope Pushdown",
      "Overhead Tricep Extension (Cable)",
      "Knee Plank",
      "Wall Plank",
      "Wall Push Up",
      "Wall Push Ups",
      "Wall Sit",
      "Chair Squat",
      "Bodyweight Squat",
      "Assisted Squat",
      "Knee Push Up",
      "Knee Push Ups",
      "Glute Kickback",
      "Side-lying Hip Abduction",
      "Lateral Band Walks",
      "Resistance Band Squat",
      "Resistance Band Row",
      "Resistance Band Lateral Raise",
      "Resistance Band Shoulder Press",
      "Squat Pulse",
      "Squat Hold",
      "Squat to Calf Raise",
      "Single Leg Squat",
      "Pistol Squat",
      "Wood Chop",
      "High to Low Chop",
      "Low to High Chop",
      "Bear Crawl",
      "Crab Walk",
      "High Knees",
      "Butt Kickers",
      "Jumping Jacks",
      "Jump Squat",
      "Reverse Fly",
      "Stability Ball Crunch",
      "Stability Ball Plank",
      "Cat Cow",
      "Child's Pose Hold",
      "Hip Flexor Stretch",
      "Calf Stretch",
      "Quad Stretch",
      "Hamstring Stretch"
    ]
  };

export const exerciseGlossary = glossary.exercises;

interface QuestionnaireData {
  // Primary Goals
  primaryGoal?: string;
  secondaryGoals?: string[];
  specificSport?: string;
  athleticPerformanceDetails?: string;
  funSocialDetails?: string;
  injuryPreventionDetails?: string;
  flexibilityDetails?: string;
  customGoals?: string;
  
  // Training Frequency & Split
  totalTrainingDays?: number;
  gymTrainingDays?: number;
  otherTrainingDays?: number;
  customFrequency?: string;
  
  // Training Preferences
  priorityMuscleGroups?: string[];
  customMuscleGroup?: string;
  movementLimitations?: string[];
  customLimitation?: string;
  trainingStylePreference?: string;
  customTrainingStyle?: string;
  
  // Training Experience
  trainingExperience?: string;
  
  // Program Preferences
  programDuration?: string;
  customDuration?: string;
  fitnessInfluencer?: string;
  customInfluencer?: string;

  // Equipment & Session Preferences
  selectedEquipment?: string[];
  specificEquipment?: string;
  unavailableEquipment?: string[];
  workoutDuration?: number;
  restTimePreference?: string;
  
  // Exercise Preferences
  likedExercises?: string[];
  dislikedExercises?: string[];
  selectedFavoriteExercises?: any[];
}

export const generateProgramSpecs = (data?: QuestionnaireData): string => {
  if (!data) {
    return `**No questionnaire data provided.** Please have the user complete the fitness questionnaire first to generate a personalized program.`;
  }

  let specs = "";

  // Primary Goal
  if (data.primaryGoal) {
    const goalMap: { [key: string]: string } = {
      'muscle_gain': 'Muscle Growth/Hypertrophy',
      'strength': 'Strength Building',
      'weight_loss': 'Weight Loss/Fat Loss',
      'endurance': 'Endurance/Conditioning',
      'sport_specific': 'Sport-Specific Training',
      'general_fitness': 'General Fitness & Health',
      'flexibility': 'Flexibility & Mobility',
      'rehabilitation': 'Rehabilitation/Injury Recovery',
    };
    specs += `**Primary Goal:** ${goalMap[data.primaryGoal] || data.primaryGoal}\n`;
  }

  // Secondary Goals
  if (data.secondaryGoals && data.secondaryGoals.length > 0) {
    const secondaryMap: { [key: string]: string } = {
      'include_cardio': 'Include Cardiovascular Training',
      'athletic_performance': 'Athletic Performance Enhancement',
      'fun_social': 'Fun & Social Activities',
      'injury_prevention': 'Injury Prevention',
      'flexibility_mobility': 'Flexibility & Mobility',
    };
    const secondaryList = data.secondaryGoals.map(goal => secondaryMap[goal] || goal).join(', ');
    specs += `**Secondary Goals:** ${secondaryList}\n`;
  }

  // Specific Details
  if (data.specificSport) specs += `**Specific Sport:** ${data.specificSport}\n`;
  if (data.athleticPerformanceDetails) specs += `**Athletic Performance Focus:** ${data.athleticPerformanceDetails}\n`;
  if (data.funSocialDetails) specs += `**Fun/Social Activities:** ${data.funSocialDetails}\n`;
  if (data.injuryPreventionDetails) specs += `**Injury Prevention Focus:** ${data.injuryPreventionDetails}\n`;
  if (data.flexibilityDetails) specs += `**Flexibility Goals:** ${data.flexibilityDetails}\n`;
  if (data.customGoals) specs += `**Additional Goals:** ${data.customGoals}\n`;

  // Training Schedule
  if (data.totalTrainingDays) {
    specs += `\n**Training Schedule:**\n`;
    specs += `- Total training days per week: ${data.totalTrainingDays}\n`;
    
    if (data.gymTrainingDays) {
      // Get the primary goal title for gym days
      const primaryGoalTitle = data.customPrimaryGoal || (() => {
        const goalMap: { [key: string]: string } = {
          'burn_fat': 'Fat Loss',
          'build_muscle': 'Muscle Building',
          'gain_strength': 'Strength Training',
          'body_recomposition': 'Body Recomposition',
          'sport_specific': 'Sport-Specific Training',
          'general_fitness': 'General Fitness',
          'custom_primary': 'Custom Goal'
        };
        return goalMap[data.primaryGoal] || 'Gym Training';
      })();
      specs += `- ${primaryGoalTitle} days: ${data.gymTrainingDays}\n`;
    }
    
    if (data.otherTrainingDays && data.secondaryGoals && data.secondaryGoals.length > 0) {
      // Build specific description of what "other activities" includes
      const secondaryActivities: string[] = [];
      
      if (data.secondaryGoals.includes('include_cardio')) {
        secondaryActivities.push('cardiovascular training');
      }
      if (data.secondaryGoals.includes('maintain_flexibility')) {
        secondaryActivities.push('flexibility/mobility work');
      }
      if (data.secondaryGoals.includes('athletic_performance')) {
        if (data.athleticPerformanceDetails) {
          secondaryActivities.push(`athletic performance training (${data.athleticPerformanceDetails})`);
        } else {
          secondaryActivities.push('athletic performance training');
        }
      }
      if (data.secondaryGoals.includes('injury_prevention')) {
        if (data.injuryPreventionDetails) {
          secondaryActivities.push(`injury prevention work (${data.injuryPreventionDetails})`);
        } else {
          secondaryActivities.push('injury prevention exercises');
        }
      }
      if (data.secondaryGoals.includes('fun_social')) {
        if (data.funSocialDetails) {
          secondaryActivities.push(`recreational activities (${data.funSocialDetails})`);
        } else {
          secondaryActivities.push('fun & social activities');
        }
      }
      if (data.secondaryGoals.includes('custom_secondary') && data.customSecondaryGoal) {
        secondaryActivities.push(data.customSecondaryGoal.toLowerCase());
      }
      
      const activitiesDescription = secondaryActivities.length > 0 
        ? secondaryActivities.join(', ') 
        : 'other activities';
        
      specs += `- Additional focus days (${activitiesDescription}): ${data.otherTrainingDays}\n`;
    }
    
    if (data.customFrequency) specs += `- Custom frequency notes: ${data.customFrequency}\n`;
  }

  // Training Experience
  if (data.trainingExperience) {
    const expMap: { [key: string]: string } = {
      'complete_beginner': 'Complete Beginner (new to gym or returning after 6+ months)',
      'beginner': 'Beginner (6-12 months consistent training, learning form)',
      'intermediate': 'Intermediate (1+ years training, good form, steady progress)',
      'advanced': 'Advanced (2+ years, excellent technique, slow progression)',
    };
    specs += `\n**Training Experience:** ${expMap[data.trainingExperience] || data.trainingExperience}\n`;
  }

  // Program Duration
  if (data.programDuration) {
    const durationMap: { [key: string]: string } = {
      '4_weeks': '4 weeks (quick trial program)',
      '8_weeks': '8 weeks (focused short-term program)',
      '12_weeks': '12 weeks (complete transformation cycle)',
      '6_months': '6 months (comprehensive progression)',
      '1_year': '1 year (long-term development plan)',
      'custom': data.customDuration || 'Custom duration',
    };
    specs += `\n**Program Duration:** ${durationMap[data.programDuration] || data.programDuration}\n`;
  }

  // Training Style Preference
  if (data.fitnessInfluencer) {
    const styleMap: { [key: string]: string } = {
      'science_based': 'Science-Based Training (evidence-driven, research-backed approach)',
      'functional_fitness': 'Functional Training (real-world movement patterns, injury prevention)',
      'powerlifting': 'Powerlifting Style (focus on squat, bench, deadlift strength)',
      'bodybuilding': 'Bodybuilding Style (muscle isolation, hypertrophy focus)',
      'athletic_performance': 'Athletic Performance (sport-specific training, power development)',
      'custom': data.customInfluencer || 'Custom training style',
      'no_preference': 'No specific preference (AI-optimized approach)',
    };
    specs += `**Training Style Preference:** ${styleMap[data.fitnessInfluencer] || data.fitnessInfluencer}\n`;
  }

  // Priority Muscle Groups
  if (data.priorityMuscleGroups && data.priorityMuscleGroups.length > 0) {
    specs += `\n**Priority Muscle Groups:** ${data.priorityMuscleGroups.join(', ')}\n`;
    if (data.customMuscleGroup) specs += `**Custom Muscle Group:** ${data.customMuscleGroup}\n`;
  }

  // Movement Limitations
  if (data.movementLimitations && data.movementLimitations.length > 0) {
    specs += `\n**Movement Limitations/Restrictions:** ${data.movementLimitations.join(', ')}\n`;
    if (data.customLimitation) specs += `**Custom Limitation:** ${data.customLimitation}\n`;
  }

  // Training Style Preference (from step 2)
  if (data.trainingStylePreference && data.trainingStylePreference !== 'other') {
    const styleMap: { [key: string]: string } = {
      'compound_focused': 'Compound-Focused (multi-joint exercises like squats, deadlifts)',
      'functional_fitness': 'Functional Fitness (real-world movement patterns)',
      'bodybuilding': 'Bodybuilding Style (isolation exercises for muscle growth)',
      'powerlifting': 'Powerlifting Style (focus on squat, bench, deadlift)',
      'calisthenics': 'Calisthenics (bodyweight-focused training)',
    };
    specs += `\n**Training Approach:** ${styleMap[data.trainingStylePreference] || data.trainingStylePreference}\n`;
  }
  if (data.customTrainingStyle) specs += `**Custom Training Style:** ${data.customTrainingStyle}\n`;

  // Equipment & Session Preferences
  if (data.selectedEquipment && data.selectedEquipment.length > 0) {
    specs += `\n**Available Equipment:** ${data.selectedEquipment.join(', ')}\n`;
  }
  if (data.specificEquipment) specs += `**Specific Equipment Notes:** ${data.specificEquipment}\n`;
  if (data.unavailableEquipment && data.unavailableEquipment.length > 0) {
    specs += `**Equipment to Avoid:** ${data.unavailableEquipment.join(', ')}\n`;
  }
  if (data.workoutDuration) specs += `**Preferred Session Length:** ${data.workoutDuration} minutes\n`;
  if (data.restTimePreference) specs += `**Rest Time Preference:** ${data.restTimePreference}\n`;

  // Exercise Preferences
  if (data.likedExercises && data.likedExercises.length > 0) {
    specs += `\n**Preferred Exercises:** ${data.likedExercises.join(', ')}\n`;
  }
  if (data.dislikedExercises && data.dislikedExercises.length > 0) {
    specs += `**Exercises to Avoid:** ${data.dislikedExercises.join(', ')}\n`;
  }
  if (data.selectedFavoriteExercises && data.selectedFavoriteExercises.length > 0) {
    const favoriteNames = data.selectedFavoriteExercises.map((ex: any) => ex.name || ex).join(', ');
    specs += `**Favorite Exercises to Include:** ${favoriteNames}\n`;
  }

  return specs;
};

export const getAIPrompt = (questionnaireData?: QuestionnaireData) => {
  return `# JSON Workout Program Generator

You are generating a workout program from the PROGRAM SPECS provided. Output valid JSON that can be imported into a fitness app.

## CRITICAL: File Output Instructions

**DO NOT output JSON to chat** â€” it will hit token limits for programs longer than 4 weeks.

**You MUST:**
1. Create a file (use Code Interpreter on ChatGPT, or computer tool on Claude)
2. Write the complete JSON structure to the file
3. If you reach output limits, STOP at the end of a complete block, then continue appending to the same file
4. Never stop mid-block or mid-day
5. When finished, provide the download link

## JSON Schema
\`\`\`json
{
  "routine_name": "string",
  "description": "string",
  "days_per_week": number,
  "blocks": [
    {
      "block_name": "string",
      "weeks": "string (e.g. '1-4')",
      "structure": "string (e.g. 'Push Pull Legs')",
      "days": [
        {
          "day_name": "string",
          "estimated_duration": number (minutes),
          "exercises": [
            {
              "exercise": "string (MUST match glossary exactly)",
              "sets": number,
              "reps": "string (e.g. '8-12')",
              "reps_weekly": {
                "1": "string",
                "2": "string",
                "3": "string",
                "4": "string"
              },
              "rest": number (seconds - optimal rest),
              "restQuick": number (seconds - quick mode rest),
              "notes": "string (coaching cues)",
              "alternatives": ["string array - backup exercises"]
            }
          ]
        }
      ]
    }
  ]
}
\`\`\`

## Field Rules

| Field | Type | Required | Notes |
|-------|------|----------|-------|
| routine_name | string | YES | Program title |
| description | string | YES | Brief program overview |
| days_per_week | number | YES | Must match actual days in each block |
| block_name | string | YES | e.g. "Block 1 - Foundation Volume" |
| weeks | string | YES | e.g. "1-4" |
| structure | string | YES | e.g. "Upper Lower", "Push Pull Legs" |
| day_name | string | YES | e.g. "Push", "Lower A - Quad Focus" |
| estimated_duration | number | YES | Minutes including rest periods |
| exercise | string | YES | MUST match glossary exactly (case-sensitive) |
| sets | number | YES | Integer |
| reps | string | YES | e.g. "8-12", "5", "10-15" |
| reps_weekly | object | NO | Use for progressive overload within a block |
| rest | number | YES | Seconds - optimal rest for muscle growth |
| restQuick | number | YES | Seconds - shorter rest for time-crunched sessions |
| notes | string | NO | Form cues, tips, coaching notes |
| alternatives | array | NO | Substitute exercises (must match glossary) |

## Programming Guidelines

**Rest Periods (seconds):**
- Heavy compounds (squat, deadlift, bench): rest 180-240, restQuick 120-150
- Moderate compounds (rows, presses): rest 120-180, restQuick 90-120  
- Isolation exercises: rest 60-90, restQuick 45-60

**Progressive Overload (reps_weekly):**
- For strength/hypertrophy blocks, decrease reps weekly as user increases weight
- Example: {"1": "12", "2": "10", "3": "8", "4": "6"}
- Keys must match number of weeks in block

**Alternatives:**
- Include 1-2 alternatives for exercises requiring specific equipment
- All alternatives MUST match glossary exactly

**Notes:**
- Include form cues for complex lifts
- Add tips for beginners/intermediates
- Keep notes concise (1-2 sentences)

## Exercise Glossary

You can ONLY use these exercises (exactly as written):
${JSON.stringify(glossary.exercises, null, 2)}

## PROGRAM SPECS

${generateProgramSpecs(questionnaireData)}

## Output Requirements

**FORMAT REQUIREMENTS:**
- Create the program as a text document
- Use simple text formatting with headers, bullet points, and tables
- Make it fast to generate and easy to copy/edit
- Include clear section breaks and organized workout structure
- Structure each workout day with complete exercise details and instructions

**OUTPUT STRUCTURE:**
Provide a comprehensive workout program that includes:

1. **Program Overview** - Brief description and key programming details
2. **Complete Training Blocks** - All workout days with exercises, sets, reps, rest periods
3. **Exercise Specifications** - Form cues, alternatives, and coaching notes  
4. **Progression Guidelines** - How to advance through the program
5. **Implementation Notes** - Practical tips for following the program

Focus on practical, effective programming that matches the specified goals, experience level, and constraints.

Generate the complete workout program based on the PROGRAM SPECS provided.`;
};